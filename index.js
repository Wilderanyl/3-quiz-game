const quiz = [
  {
    no: "Q1",
    question: "Which organization deones the Web Standards?",
    answers: [
      {
        li: "A",
        answer: "Microsoft Corporation",
        correct: false,
      },
      {
        li: "B",
        answer: "IBM Corporation",
        correct: false,
      },
      {
        li: "C",
        answer: "World Wide Web Consortium",
        correct: true,
      },
      {
        li: "D",
        answer: "Apple Inc.",
        correct: false,
      },
    ],
  },
  {
    no: "Q2",
    question: "Which of the following is used to create web pages?",
    answers: [
      {
        li: "A",
        answer: "HTML",
        correct: true,
      },
      {
        li: "B",
        answer: "C",
        correct: false,
      },
      {
        li: "C",
        answer: "JVM",
        correct: false,
      },
      {
        li: "D",
        answer: "DTD",
        correct: false,
      },
    ],
  },
  {
    no: "Q3",
    question: "HTML is considered as ____ language.",
    answers: [
      {
        li: "A",
        answer: "Programming Language",
        correct: false,
      },
      {
        li: "B",
        answer: "OOP Language",
        correct: false,
      },
      {
        li: "C",
        answer: "High Level Language",
        correct: false,
      },
      {
        li: "D",
        answer: "Markup Language",
        correct: true,
      },
    ],
  },
  {
    no: "Q4",
    question: "HTML is a set of markup ____.",
    answers: [
      {
        li: "A",
        answer: "Attributes",
        correct: false,
      },
      {
        li: "B",
        answer: "Tags",
        correct: true,
      },
      {
        li: "C",
        answer: "Sets",
        correct: false,
      },
      {
        li: "D",
        answer: "Groups",
        correct: false,
      },
    ],
  },
  {
    no: "Q5",
    question: "HTML tags are used to describe document ____.",
    answers: [
      {
        li: "A",
        answer: "Deonition",
        correct: false,
      },
      {
        li: "B",
        answer: "Language",
        correct: false,
      },
      {
        li: "C",
        answer: "Content",
        correct: true,
      },
      {
        li: "D",
        answer: "None of those",
        correct: false,
      },
    ],
  },
  {
    no: "Q6",
    question: "HTML document can contain.",
    answers: [
      {
        li: "A",
        answer: "Attributes",
        correct: false,
      },
      {
        li: "B",
        answer: "Tags",
        correct: false,
      },
      {
        li: "C",
        answer: "Plain text",
        correct: false,
      },
      {
        li: "D",
        answer: "All of these",
        correct: true,
      },
    ],
  },
  {
    no: "Q7",
    question: "Page designed in HTML is called a ",
    answers: [
      {
        li: "A",
        answer: "Yellow Page",
        correct: false,
      },
      {
        li: "B",
        answer: "Web Page",
        correct: true,
      },
      {
        li: "C",
        answer: "Server Page",
        correct: false,
      },
      {
        li: "D",
        answer: "Front Page",
        correct: false,
      },
    ],
  },
  {
    no: "Q8",
    question:
      "We can write HTML code using ____. Select appropriate option(s).",
    answers: [
      {
        li: "A",
        answer: "VCL Media",
        correct: false,
      },
      {
        li: "B",
        answer: "Notepad++",
        correct: true,
      },
      {
        li: "C",
        answer: "Microsoft PowerPoint",
        correct: false,
      },
      {
        li: "D",
        answer: "None of these",
        correct: false,
      },
    ],
  },
  {
    no: "Q9",
    question: "HTML document is saved using ____ extension.",
    answers: [
      {
        li: "A",
        answer: ".htl",
        correct: false,
      },
      {
        li: "B",
        answer: ".html",
        correct: true,
      },
      {
        li: "C",
        answer: ".hml",
        correct: false,
      },
      {
        li: "D",
        answer: ".htnl",
        correct: false,
      },
    ],
  },
  {
    no: "Q10",
    question: "The software that can read and render HTML document is",
    answers: [
      {
        li: "A",
        answer: "Server",
        correct: false,
      },
      {
        li: "B",
        answer: "Compiler",
        correct: false,
      },
      {
        li: "C",
        answer: "Interpreter",
        correct: false,
      },
      {
        li: "D",
        answer: "Browser",
        correct: true,
      },
    ],
  },
  {
    no: "Q11",
    question:
      "PCs running Windows 3.x will have ____ extension for html pages.",
    answers: [
      {
        li: "A",
        answer: "htl",
        correct: false,
      },
      {
        li: "B",
        answer: "html",
        correct: false,
      },
      {
        li: "C",
        answer: "htm",
        correct: true,
      },
      {
        li: "D",
        answer: "hml",
        correct: false,
      },
    ],
  },
  {
    no: "Q12",
    question: "Which of the following is not an example of browser?",
    answers: [
      {
        li: "A",
        answer: "Netscape Navigator",
        correct: false,
      },
      {
        li: "B",
        answer: "Microsoft Bing",
        correct: true,
      },
      {
        li: "C",
        answer: "Mozilla Firefox",
        correct: false,
      },
      {
        li: "D",
        answer: "Opera",
        correct: false,
      },
    ],
  },
  {
    no: "Q13",
    question: "Who is the primary author of HTML?",
    answers: [
      {
        li: "A",
        answer: "Brendan Eich",
        correct: false,
      },
      {
        li: "B",
        answer: "Tim Berners-lee",
        correct: true,
      },
      {
        li: "C",
        answer: "Web programmer",
        correct: false,
      },
      {
        li: "D",
        answer: "Google Inc",
        correct: false,
      },
    ],
  },
  {
    no: "Q14",
    question: "HTML was orst proposed in year ____.",
    answers: [
      {
        li: "A",
        answer: "1'80",
        correct: false,
      },
      {
        li: "B",
        answer: "1990",
        correct: true,
      },
      {
        li: "C",
        answer: "1''5",
        correct: false,
      },
      {
        li: "D",
        answer: "2000",
        correct: false,
      },
    ],
  },
  {
    no: "Q15",
    question: "HTML tags are surrounded by ____ brackets.",
    answers: [
      {
        li: "A",
        answer: "Angle",
        correct: true,
      },
      {
        li: "B",
        answer: "Square",
        correct: false,
      },
      {
        li: "C",
        answer: "Rounded",
        correct: false,
      },
      {
        li: "D",
        answer: "Curly",
        correct: false,
      },
    ],
  },
  {
    no: "Q16",
    question: "opening tag of HTML is called ",
    answers: [
      {
        li: "A",
        answer: "Ending tag",
        correct: false,
      },
      {
        li: "B",
        answer: "Starting  tag",
        correct: true,
      },
      {
        li: "C",
        answer: "Closed tag",
        correct: false,
      },
      {
        li: "D",
        answer: "Pair tags",
        correct: false,
      },
    ],
  },
  {
    no: "Q17",
    question: "HTML document contain one root tag called ____.",
    answers: [
      {
        li: "A",
        answer: "Head",
        correct: false,
      },
      {
        li: "B",
        answer: "Title",
        correct: false,
      },
      {
        li: "C",
        answer: "Body",
        correct: false,
      },
      {
        li: "D",
        answer: "HTML",
        correct: true,
      },
    ],
  },
  {
    no: "Q18",
    question: "Basic fundamental block is called as ",
    answers: [
      {
        li: "A",
        answer: "HTML tag",
        correct: true,
      },
      {
        li: "B",
        answer: "HTML body",
        correct: false,
      },
      {
        li: "C",
        answer: "HTML Attribute",
        correct: false,
      },
      {
        li: "D",
        answer: "HTML Element",
        correct: false,
      },
    ],
  },
];

const playAgainButton = document.getElementById("play-again");
const playNowButton = document.getElementById("play-now");
const questionsElement = document.getElementById("questions");
const singleQuestion = document.getElementById("question");
const answerLists = document.getElementById("answer-lists");
const optionBtns = document.getElementById("options");
const submitBtn = document.getElementById("submit");
const nextBtn = document.getElementById("next");

playAgainButton.innerHTML = "Play Again";
playNowButton.innerHTML = "Play now";
questionsElement.style.display = "none";

let initialIndex = 0;
let initialScore = 0;

function removePreviousChild() {
  if (answerLists.firstChild) {
    while (answerLists.firstChild) {
      answerLists.removeChild(answerLists.firstChild);
    }
  }
  if (optionBtns.firstChild) {
    while (optionBtns.firstChild) {
      optionBtns.removeChild(optionBtns.firstChild);
    }
  }
}

function showQuestions() {
  removePreviousChild();
  const question = quiz[initialIndex];
  questionsElement.style.display = "block";
  singleQuestion.innerHTML = `${question.no}. ${question.question}`;
  for (let i in question.answers) {
    const li = document.createElement("li");
    const button = document.createElement("button");
    const answer = question.answers[i];
    li.innerHTML = `${answer.li}. ${answer.answer}`;
    button.innerHTML = answer.li;
    answerLists.appendChild(li);
    optionBtns.appendChild(button);

    if (question.answers[i].correct) {
      button.dataset.iscorrect = "true";
    }

    button.addEventListener("click", () => {
      submitBtn.style.display = "block";

      submitBtn.addEventListener("click", () => {
        submitBtn.style.display = "none";
        nextBtn.style.display = "block";
        Array.from(optionBtns.children).forEach((btn) => {
          btn.disabled = true;
          btn.classList.remove("chosenBtn");
          if (btn.dataset.iscorrect === "true") {
            btn.classList.add("correct");
          } else {
            btn.classList.add("incorrect");
          }
        });
      });

      Array.from(optionBtns.children).forEach((btn) => {
        if (btn.innerHTML === button.innerHTML) {
          btn.classList.add("chosenBtn");
        } else {
          btn.classList.remove("chosenBtn");
        }
      });

      if (button.dataset.iscorrect === "true") {
        initialScore++;
      }
    });
  }
}

nextBtn.addEventListener("click", () => {
  nextBtn.style.display = "none";
  if (initialIndex < quiz.length) {
    initialIndex++;
    if (initialIndex < quiz.length) {
      showQuestions();
    } else {
      nextBtn.style.display = "block";
      questionsElement.innerHTML =
        "your score is " + initialScore + " out of " + quiz.length + ".";
      // playAgainButton.style.display = "block";
      // playNowButton.style.display = "block"
      initialScore = 0;
      initialIndex = 0;

      console.log(nextBtn);
    }
  } else {
    playNowFun();
  }
});

function playNowFun() {
  playNowButton.style.display = "none";
  showQuestions();
}

playNowButton.addEventListener("click", playNowFun);
playAgainButton.addEventListener("click", () => {
  initialScore = 0;
  initialIndex = 0;
  showQuestions();
  console.log(initialIndex);
  playAgainButton.style.display = "none";
});
